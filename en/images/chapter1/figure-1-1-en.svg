<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 440">
  <style>
    .background { fill: #f8f9fa; }
    .data-box { fill: #fff7e6; stroke: #fa8c16; stroke-width: 1.5; }
    .algo-box { fill: #f6ffed; stroke: #52c41a; stroke-width: 1.5; }
    .output-box { fill: #e6f7ff; stroke: #1890ff; stroke-width: 1.5; }
    .sample-box { fill: #fff; stroke: #ccc; stroke-width: 1; }
    .arrow { stroke: #666; stroke-width: 1.5; fill: none; }
    .label { font-family: 'Arial', sans-serif; font-size: 12px; text-anchor: middle; fill: #333; }
    .label-small { font-family: 'Arial', sans-serif; font-size: 11px; text-anchor: middle; fill: #666; }
    .math-text { font-family: 'Georgia', 'Times New Roman', serif; font-size: 13px; fill: #555; text-anchor: middle; font-style: italic; }
    .title { font-family: 'Arial', sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; fill: #333; }
    .box-title { font-family: 'Arial', sans-serif; font-size: 13px; font-weight: bold; text-anchor: middle; }
    .tag-text { font-family: 'Arial', sans-serif; font-size: 10px; text-anchor: middle; font-weight: bold; }
    .digit { font-family: 'Georgia', 'Times New Roman', serif; font-size: 28px; text-anchor: middle; fill: #333; }
    .digit-label { fill: #f0f0f0; stroke: #999; stroke-width: 1; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#666" />
    </marker>

    <!--
      Handwritten-style digit representations.
      Each is a small stylized glyph drawn with strokes to look hand-drawn.
      Centered at (0,0), fits within roughly ±12px.
    -->

    <!-- Handwritten 7 -->
    <g id="digit-7">
      <path d="M-8,-10 L8,-10 L0,12" stroke="#333" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
      <path d="M-2,0 L5,0" stroke="#333" stroke-width="1.5" stroke-linecap="round" fill="none" />
    </g>

    <!-- Handwritten 1 -->
    <g id="digit-1">
      <path d="M-2,-10 L2,-10 L2,12 M-4,12 L8,12" stroke="#333" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
    </g>

    <!-- Handwritten 9 -->
    <g id="digit-9">
      <circle cx="0" cy="-5" r="6" stroke="#333" stroke-width="2.5" fill="none" />
      <path d="M6,-5 L4,12" stroke="#333" stroke-width="2.5" stroke-linecap="round" fill="none" />
    </g>

    <!-- Handwritten 3 -->
    <g id="digit-3">
      <path d="M-6,-10 L4,-10 Q10,-10 8,-4 Q6,0 0,0 Q6,0 8,5 Q10,12 4,12 L-6,12" stroke="#333" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
    </g>

    <!-- Handwritten 0 -->
    <g id="digit-0">
      <ellipse cx="0" cy="1" rx="8" ry="12" stroke="#333" stroke-width="2.5" fill="none" />
    </g>

    <!-- Handwritten 4 -->
    <g id="digit-4">
      <path d="M6,-10 L-8,4 L10,4 M6,-10 L6,12" stroke="#333" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
    </g>

    <!-- Handwritten 5 (for test) -->
    <g id="digit-5">
      <path d="M6,-10 L-4,-10 L-6,0 Q0,-2 6,0 Q10,4 6,10 Q2,14 -6,12" stroke="#333" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
    </g>
  </defs>

  <!-- Background -->
  <rect width="750" height="440" class="background" />

  <!-- Title -->
  <text x="375" y="30" class="title">The Learning Problem</text>

  <!-- === Training Data === -->

  <rect x="100" y="50" width="550" height="100" rx="6" ry="6" class="data-box" />
  <text x="375" y="72" class="box-title" fill="#d46b08">Training Data: labeled examples</text>

  <!--
    6 sample cards, evenly spaced.
    Card width: 60, gaps: 20, total: 6*60 + 5*20 = 460
    Start x: (750 - 460) / 2 = 145
    Centers: 175, 255, 335, 415, 495, 575
  -->

  <!-- Card 1: "7" -->
  <rect x="145" y="82" width="60" height="55" rx="3" ry="3" class="sample-box" />
  <use href="#digit-7" x="175" y="105" />
  <rect x="155" y="123" width="40" height="13" rx="3" ry="3" class="digit-label" />
  <text x="175" y="133" class="tag-text" fill="#555">7</text>

  <!-- Card 2: "1" -->
  <rect x="225" y="82" width="60" height="55" rx="3" ry="3" class="sample-box" />
  <use href="#digit-1" x="255" y="105" />
  <rect x="235" y="123" width="40" height="13" rx="3" ry="3" class="digit-label" />
  <text x="255" y="133" class="tag-text" fill="#555">1</text>

  <!-- Card 3: "9" -->
  <rect x="305" y="82" width="60" height="55" rx="3" ry="3" class="sample-box" />
  <use href="#digit-9" x="335" y="105" />
  <rect x="315" y="123" width="40" height="13" rx="3" ry="3" class="digit-label" />
  <text x="335" y="133" class="tag-text" fill="#555">9</text>

  <!-- Card 4: "3" -->
  <rect x="385" y="82" width="60" height="55" rx="3" ry="3" class="sample-box" />
  <use href="#digit-3" x="415" y="105" />
  <rect x="395" y="123" width="40" height="13" rx="3" ry="3" class="digit-label" />
  <text x="415" y="133" class="tag-text" fill="#555">3</text>

  <!-- Card 5: "0" -->
  <rect x="465" y="82" width="60" height="55" rx="3" ry="3" class="sample-box" />
  <use href="#digit-0" x="495" y="105" />
  <rect x="475" y="123" width="40" height="13" rx="3" ry="3" class="digit-label" />
  <text x="495" y="133" class="tag-text" fill="#555">0</text>

  <!-- Card 6: "4" -->
  <rect x="545" y="82" width="60" height="55" rx="3" ry="3" class="sample-box" />
  <use href="#digit-4" x="575" y="105" />
  <rect x="555" y="123" width="40" height="13" rx="3" ry="3" class="digit-label" />
  <text x="575" y="133" class="tag-text" fill="#555">4</text>

  <!-- Arrow down -->
  <line x1="375" y1="150" x2="375" y2="185" class="arrow" marker-end="url(#arrowhead)" />
  <text x="425" y="173" class="label-small">find patterns</text>

  <!-- === Learning Algorithm === -->

  <rect x="200" y="190" width="350" height="50" rx="6" ry="6" class="algo-box" />
  <text x="375" y="213" class="box-title" fill="#389e0d">Learning Algorithm</text>
  <text x="375" y="230" class="label-small">finds what distinguishes each digit's shape</text>

  <!-- Arrow down -->
  <line x1="375" y1="240" x2="375" y2="275" class="arrow" marker-end="url(#arrowhead)" />
  <text x="425" y="263" class="label-small">produces</text>

  <!-- === Learned Model === -->

  <rect x="225" y="280" width="300" height="50" rx="6" ry="6" class="output-box" />
  <text x="375" y="302" class="box-title" fill="#1890ff">Learned Model</text>
  <text x="375" y="320" class="label-small">a function that predicts labels for new inputs</text>

  <!-- Arrow down -->
  <line x1="375" y1="330" x2="375" y2="355" class="arrow" marker-end="url(#arrowhead)" />

  <!-- === Testing row: new digit → model → prediction === -->

  <!-- New input (left) -->
  <rect x="175" y="360" width="100" height="60" rx="4" ry="4" class="sample-box" />
  <use href="#digit-5" x="225" y="385" />
  <text x="225" y="412" class="label-small">new image</text>

  <!-- Arrow to model -->
  <line x1="275" y1="390" x2="318" y2="390" class="arrow" marker-end="url(#arrowhead)" />

  <!-- Model (center) -->
  <rect x="325" y="365" width="100" height="50" rx="6" ry="6" class="output-box" />
  <text x="375" y="387" class="box-title" fill="#1890ff">Model</text>
  <text x="375" y="405" class="math-text">g(x) → ?</text>

  <!-- Arrow to prediction -->
  <line x1="425" y1="390" x2="468" y2="390" class="arrow" marker-end="url(#arrowhead)" />

  <!-- Prediction (right) -->
  <rect x="475" y="367" width="100" height="45" rx="4" ry="4" class="digit-label" />
  <text x="525" y="393" class="digit" fill="#333">5</text>
  <text x="525" y="407" class="label-small">prediction</text>

  <!-- Bottom note -->
  <text x="375" y="438" class="label-small">If the model works on digits it has never seen, it learned. If it only works on training data, it memorized.</text>
</svg>
